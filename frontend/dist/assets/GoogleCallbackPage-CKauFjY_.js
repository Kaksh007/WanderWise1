import{u as c,j as o,L as l,z as s}from"./index-BkxZ9rj_.js";import{b as g,u as m,r as u}from"./vendor-DqtifiDA.js";import{a as f}from"./authService-DJuI0Gox.js";import"./utils-CqJj1_54.js";import"./api-D9SQTOcm.js";function v(){const t=g(),e=m(),{setUser:a}=c();return u.useEffect(()=>{(async()=>{const i=new URLSearchParams(t.search),n=i.get("code");if(i.get("error")){s.error("Google sign-in was cancelled or failed."),e("/login");return}if(!n){s.error("Missing authorization code from Google."),e("/login");return}try{const r=await f.loginWithGoogle({code:n});a(r.user,r.token),s.success("Signed in with Google!"),e("/profile")}catch(r){s.error(r||"Google sign-in failed."),e("/login")}})()},[t.search,e,a]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-purple-50 py-12",children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsx(l,{}),o.jsx("p",{className:"text-gray-600",children:"Completing Google sign-in..."})]})})}export{v as default};
