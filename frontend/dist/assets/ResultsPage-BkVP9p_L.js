import{c as u,j as e,M as k,a as m,C as j,B as d,S as C}from"./index-CcwbiuT9.js";import{u as f,b as S,r as l}from"./vendor-DqtifiDA.js";import{C as v}from"./Card-C4ANwQxD.js";import{B as M}from"./Badge-D_1RR83l.js";import{m as N}from"./motion-DAOu6aZ3.js";import{S as R,E}from"./ErrorMessage-vOuyS6JP.js";import{A as P}from"./arrow-right-CKnVFnhy.js";import{a as L}from"./api-DKuqC_Wc.js";import"./utils-CqJj1_54.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=u("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=u("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);function D({destination:s}){const a=f(),t=()=>{a(`/destination/${encodeURIComponent(s.name)}`)};return e.jsx(N.div,{whileHover:{y:-4},transition:{duration:.2},onClick:t,children:e.jsxs(v,{hover:!0,className:"h-full cursor-pointer",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1 group-hover:text-primary-600 transition-colors",children:s.name}),s.country&&e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(k,{className:"h-3.5 w-3.5 mr-1"}),e.jsx("span",{children:s.country})]})]}),s.score&&e.jsxs(M,{variant:"primary",size:"sm",children:[e.jsx(R,{className:"h-3 w-3 mr-1 fill-current"}),s.score,"/10"]})]}),s.reason&&e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3 leading-relaxed",children:s.reason}),s.topPlaces&&s.topPlaces.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wide",children:"Top Places"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:s.topPlaces.slice(0,3).map((o,n)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-primary-600 rounded-full mr-2"}),o.name]},n))})]}),e.jsxs("div",{className:"flex items-center text-primary-600 text-sm font-medium group-hover:gap-2 transition-all pt-2 border-t border-gray-100",children:[e.jsx("span",{children:"View Details"}),e.jsx(P,{className:"h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})})}const T={async getRecommendations(s){return await L.post("/search/recommend",s)}};function c({className:s,...a}){return e.jsx("div",{className:m("animate-pulse rounded-md bg-gray-200",s),...a})}function w({lines:s=1,className:a,...t}){return e.jsx("div",{className:m("space-y-2",a),...t,children:Array.from({length:s}).map((o,n)=>e.jsx(c,{className:m("h-4",n===s-1&&s>1?"w-3/4":"w-full")},n))})}function A({className:s,...a}){return e.jsxs("div",{className:m("p-6 space-y-4",s),...a,children:[e.jsx(c,{className:"h-6 w-3/4"}),e.jsx(w,{lines:3}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{className:"h-6 w-20"}),e.jsx(c,{className:"h-6 w-20"})]})]})}c.Text=w;c.Card=A;function J(){const s=S(),a=f(),[t,o]=l.useState([]),[n,x]=l.useState(!0),[y,h]=l.useState(null),[p,g]=l.useState("grid");l.useEffect(()=>{var r;const i=(r=s.state)==null?void 0:r.searchData;i?b(i):(h("No search data provided"),x(!1))},[s]);const b=async i=>{try{x(!0),h(null);const r=await T.getRecommendations(i);o(r.candidates||[])}catch(r){h(r.message||"Failed to fetch recommendations")}finally{x(!1)}};return n?e.jsx(j,{children:e.jsxs("div",{className:"py-12",children:[e.jsx(c,{className:"h-10 w-64 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(i=>e.jsx(c.Card,{},i))})]})}):y?e.jsx(E,{message:y}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 md:py-12",children:e.jsxs(j,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Travel Recommendations"}),e.jsxs("p",{className:"text-gray-600",children:[t.length," destination",t.length!==1?"s":""," found"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{variant:p==="grid"?"primary":"outline",size:"sm",onClick:()=>g("grid"),children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx(d,{variant:p==="list"?"primary":"outline",size:"sm",onClick:()=>g("list"),children:e.jsx(B,{className:"h-4 w-4"})})]})]}),e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>a("/advanced-search"),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"New Search"]})]}),t.length===0?e.jsxs(v,{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"No recommendations found."}),e.jsx(d,{variant:"primary",onClick:()=>a("/advanced-search"),children:"Start New Search"})]}):e.jsx("div",{className:m(p==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"),children:t.map((i,r)=>e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:r*.05},children:e.jsx(D,{destination:i})},r))})]})})}export{J as default};
