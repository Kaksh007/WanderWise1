import{a as n}from"./utils-CqJj1_54.js";import{u as r}from"./index-BkxZ9rj_.js";const i="http://localhost:5000/api",a=n.create({baseURL:i,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{const{token:t}=r.getState();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));a.interceptors.response.use(e=>e.data,e=>{var t,s,o;return((t=e.response)==null?void 0:t.status)===401&&(r.getState().logout(),window.location.href="/login"),Promise.reject(((o=(s=e.response)==null?void 0:s.data)==null?void 0:o.message)||e.message||"An error occurred")});export{a};
